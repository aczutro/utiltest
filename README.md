# utiltest
Python library for advanced automated testing of command line utilities

## Description

This Python module provides Class `TestBench`, which is suitable for testing
command line utilities.

A test bench object is provided with a command line to be executed and,
optionally, with the data to be passed to the application under test (AUT) if
the AUT reads its input from STDIN.  The test bench is also provided with the
expected output and error messages, as well as the exit code that the AUT is
expected to return.  The test bench executes the provided command line and
compares all data generated by the AUT to the expected data in order to decide
whether the AUT has passed the test.  The test bench can also automatically
check whether the AUT has created or deleted files as expected, and whether
these files have the expected content.

A test bench object can be reused for multiple tests.  The TestBench class
provides an interface that makes it easy to modify the command line for further
tests.

The module also provides Class `TMPFileManager`, a manager that can create
temporal files needed for test experiments and which automatically cleans up
everything after the test.

The module provides simple examples of use.  For advanced examples, see
application `testing` (part of the command line util collection available here:
https://github.com/aczutro/command-line-utils ).

## Installation and use.

This module requires the ''Useful Python'' library available here:
https://github.com/aczutro/useful-python .  Please download and install it
first.

When you've done that, open your Python interpreter and read the contents of
the sys.path variable:

```python
>>> import sys
>>> sys.path
['', '/usr/lib/python2.7', '/usr/lib/python2.7/plat-x86_64-linux-gnu', '/usr/lib/python2.7/lib-tk', '/usr/lib/python2.7/lib-old', '/usr/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages', '/usr/lib/python2.7/dist-packages/gtk-2.0']
```

Then, simply copy the provided file `utiltest.py` to any of the directories in
the list.  Alternatively, copy the file to any directory of your choice and add
that directory to the environment variable `PYTHONPATH`.  The next time you
open the Python interpreter, the new directory should be included in the
`sys.path` variable.  Then you'll be ready to go.

Add the line `import utiltest` to your Python application.  Get more info with
`help(utiltest)`.

The file also includes a main method that tests some of the implemented
features.  This code also serves as an example application of the module.  Run
`utiltest.py` as a stand-alone program to see how it works.
